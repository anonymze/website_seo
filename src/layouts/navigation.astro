---
import MobileMenuToggle from "@/components/mobile-menu-toggle.tsx";
import LogoImg from "@/assets/images/logo.png";
import { Image } from "astro:assets";
import { businessInfo } from "@/utils/helper";
import { Calendar1Icon } from "lucide-react";

// SEO-optimized navigation items with descriptive titles
const navItems = [
    {
        href: "/",
        label: "Accueil",
        title: "Accueil - Charlotte Drouilly Kinésiologue en Suisse",
        description: "Page d'accueil du cabinet de kinésiologie de Charlotte Drouilly en Suisse"
    },
    {
        href: "/a-propos",
        label: "À propos",
        title: "À propos de Charlotte Drouilly - Parcours et formation en kinésiologie",
        description: "Découvrez le parcours, la formation et l'approche thérapeutique de Charlotte Drouilly, kinésiologue expérimentée"
    },
    {
        href: "/tarifs",
        label: "Tarifs",
        title: "Tarifs des séances de kinésiologie et massage thérapeutique",
        description: "Consultez les tarifs des séances de kinésiologie intuitive, massage sacré et accompagnement holistique"
    },
    {
        href: "/contact",
        label: "Contact",
        title: "Contact et prise de rendez-vous - Charlotte Drouilly Kinésiologue",
        description: "Contactez Charlotte Drouilly pour prendre rendez-vous ou obtenir des informations sur les séances de kinésiologie"
    },
];
---

<header role="banner">
    <nav
        class="bg-card/70 backdrop-blur-lg border-b border-border/20 sticky top-0 z-50"
        role="navigation"
        aria-label="Navigation principale"
    >
        <div class="max-w-6xl mx-auto px-6 sm:px-8 lg:px-12">
            <div class="flex justify-between items-center h-20">

                <!-- Logo et nom du praticien -->
                <div class="flex items-center">
                    <a
                        href="/"
                        class="flex items-center space-x-3"
                        title={`${businessInfo.name} - ${businessInfo.profession} à ${businessInfo.location}`}
                        aria-label={`Retour à l'accueil du site de ${businessInfo.name}, ${businessInfo.profession} à ${businessInfo.location}`}
                    >
                        <div class="w-12 h-12 bg-gradient-to-br from-primary to-secondary organic-shape flex items-center justify-center shadow-lg">
                            <Image
                                src={LogoImg}
                                width={20}
                                height={20}
                                alt={`Logo de ${businessInfo.name}`}
                                loading="eager"
                            />
                        </div>
                        <div class="flex flex-col">
                            <span class="font-sans font-bold text-xl text-foreground tracking-wide">
                                Charlotte
                            </span>
                            <span class="text-xs text-muted-foreground font-medium">
                                Kinésiologue
                            </span>
                        </div>
                    </a>
                </div>

                <!-- Navigation principale desktop -->
                <nav class="hidden md:flex items-center" role="navigation" aria-label="Menu principal">
                    <ul class="flex items-center space-x-8 list-none m-0 p-0">
                        {navItems.map((item) => (
                            <li>
                                <a
                                    href={item.href}
                                    title={item.title}
                                    class="text-foreground/80 hover:text-primary transition-all duration-300 font-medium text-base py-2 px-1 font-sans relative group focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50 rounded-sm"
                                    aria-describedby={`desc-${item.href.slice(1) || 'home'}`}
                                >
                                    {item.label}
                                    <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full rounded-full" aria-hidden="true"></span>
                                </a>
                                <!-- Descriptions cachées pour l'accessibilité -->
                                <span
                                    id={`desc-${item.href.slice(1) || 'home'}`}
                                    class="sr-only"
                                >
                                    {item.description}
                                </span>
                            </li>
                        ))}

                        <!-- Bouton de réservation -->
                        <li>
                            <a
                                href="/reservation"
                                class="inline-flex items-center bg-primary hover:bg-primary/90 text-primary-foreground rounded-full px-6 py-3 shadow-lg hover:shadow-xl transition-all duration-300 font-sans hover:scale-102 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"
                                title="Prendre rendez-vous en ligne avec Charlotte Drouilly pour une séance de kinésiologie"
                                aria-label="Réserver une consultation en kinésiologie avec Charlotte Drouilly"
                            >
                                <Calendar1Icon width={20} height={20} className="mr-2" />
                                Réserver
                            </a>
                        </li>
                    </ul>
                </nav>

                <!-- Menu mobile -->
                <div class="md:hidden relative">
                    <MobileMenuToggle client:visible navItems={navItems.map(item => ({ href: item.href, label: item.label }))} />
                </div>
            </div>
        </div>
    </nav>
</header>
